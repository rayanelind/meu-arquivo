
CREATE DATABASE sistema_eleitoral;
USE sistema_eleitoral;

CREATE TABLE LOCALIDADE (
  id_localidade INTEGER PRIMARY KEY,
  nome_localidade VARCHAR(100),
  estado VARCHAR(2)
);

CREATE TABLE ZONA_ELEITORAL (
  id_zona INTEGER PRIMARY KEY,
  nome_zona VARCHAR(100),
  FK_LOCALIDADE_id_localidade INTEGER,
  FOREIGN KEY (FK_LOCALIDADE_id_localidade) REFERENCES LOCALIDADE(id_localidade)
);

CREATE TABLE SECAO_ELEITORAL (
  id_secao INTEGER PRIMARY KEY,
  nome_secao VARCHAR(100),
  FK_ZONA_id_zona INTEGER,
  FOREIGN KEY (FK_ZONA_id_zona) REFERENCES ZONA_ELEITORAL(id_zona)
);

INSERT INTO LOCALIDADE VALUES (1, 'Recife', 'PE');
INSERT INTO LOCALIDADE VALUES (2, 'Olinda', 'PE');
INSERT INTO LOCALIDADE VALUES (3, 'Jaboatão', 'PE');
INSERT INTO LOCALIDADE VALUES (4, 'Paulista', 'PE');
INSERT INTO LOCALIDADE VALUES (5, 'Caruaru', 'PE');

INSERT INTO ZONA_ELEITORAL VALUES (1, 'Zona Norte', 1);
INSERT INTO ZONA_ELEITORAL VALUES (2, 'Zona Sul', 2);
INSERT INTO ZONA_ELEITORAL VALUES (3, 'Zona Central', 3);
INSERT INTO ZONA_ELEITORAL VALUES (4, 'Zona Leste', 4);
INSERT INTO ZONA_ELEITORAL VALUES (5, 'Zona Oeste', 5);

INSERT INTO SECAO_ELEITORAL VALUES (1, 'Seção 101', 1);
INSERT INTO SECAO_ELEITORAL VALUES (2, 'Seção 102', 2);
INSERT INTO SECAO_ELEITORAL VALUES (3, 'Seção 103', 3);
INSERT INTO SECAO_ELEITORAL VALUES (4, 'Seção 104', 4);
INSERT INTO SECAO_ELEITORAL VALUES (5, 'Seção 105', 5);

UPDATE LOCALIDADE SET nome_localidade = 'Camaragibe' WHERE id_localidade = 5;
UPDATE ZONA_ELEITORAL SET nome_zona = 'Zona Metropolitana' WHERE id_zona = 3;

DELETE FROM SECAO_ELEITORAL WHERE id_secao = 4;
DELETE FROM SECAO_ELEITORAL WHERE id_secao = 5;

SELECT * FROM LOCALIDADE WHERE estado = 'PE' ORDER BY nome_localidade;
SELECT * FROM ZONA_ELEITORAL WHERE FK_LOCALIDADE_id_localidade = 1 ORDER BY nome_zona;
